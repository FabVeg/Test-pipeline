
parameters:
  - name: artifactsFeeds
    type: string
    default: 'DIN-SSDE'

steps:
  - script: |
      mkdir /home/vsts/.m2/
      echo '<?xml version="1.0" encoding="UTF-8"?>
        <settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
          <profiles>
            <profile>
              <id>altenLab</id>
              <activation>
                <activeByDefault>true</activeByDefault>
              </activation>
              <repositories>
                <repository>
                  <id>DIN-SSDE</id>
                  <url>https://pkgs.dev.azure.com/DIN-SSDE/_packaging/DIN-SSDE/maven/v1</url>
                </repository>
                      </repositories>
            </profile>
          </profiles>
        </settings>
      ' > /home/vsts/.m2/settings.xml
  - task: MavenAuthenticate@0
    inputs:
      artifactsFeeds: '${{parameters.artifactsFeeds}}'
